<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate correlations — estim_corr • neuroUp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate correlations — estim_corr"><meta name="description" content="estim_corr determines point estimate, SD and SE, 95% Credibility Intervals,
and interval width, for Pearson correlations for multiple sample sizes"><meta property="og:description" content="estim_corr determines point estimate, SD and SE, 95% Credibility Intervals,
and interval width, for Pearson correlations for multiple sample sizes"><meta property="og:image" content="https://eduardklap.github.io/neuroUp/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">neuroUp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/neuroUp.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/eduardklap/neuroUp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Estimate correlations</h1>
      <small class="dont-index">Source: <a href="https://github.com/eduardklap/neuroUp/blob/main/R/estim_corr.R" class="external-link"><code>R/estim_corr.R</code></a></small>
      <div class="d-none name"><code>estim_corr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>estim_corr</code> determines point estimate, SD and SE, 95% Credibility Intervals,
and interval width, for Pearson correlations for multiple sample sizes</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">estim_corr</span><span class="op">(</span><span class="va">data</span>, <span class="va">vars_of_interest</span>, <span class="va">sample_size</span>, k <span class="op">=</span> <span class="fl">50</span>, name <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Dataframe with the data to be analyzed</p></dd>


<dt id="arg-vars-of-interest">vars_of_interest<a class="anchor" aria-label="anchor" href="#arg-vars-of-interest"></a></dt>
<dd><p>Vector containing the names of the variables to be
correlated: <code>c("var1", "var2")</code></p></dd>


<dt id="arg-sample-size">sample_size<a class="anchor" aria-label="anchor" href="#arg-sample-size"></a></dt>
<dd><p>The range of sample size to be used: <code>min:max</code></p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>The number of permutations to be used for each sample size. Defaults
to <code>50</code></p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>The title of the dataset or variables to be displayed with the
figure. Defaults to <code>""</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p><code>tbl_select</code> returns a <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> containing estimates of the Pearson
correlation between two correlated variables with associated SD, SE, 95% CI,
and width of the 95% CI (lower, upper) for five different sample sizes
(starting with the minimum sample size, then 1/5th parts of the total
dataset).</p></li>
<li><p><code>fig_corr</code> returns a scatterplot where for the five different sample sizes, 10
out of the total number of HDCIs computed are displayed (in green). The
average estimate with credible interval summarizing the total number of HDCIs
for each sample size are plotted in orange</p></li>
<li><p><code>fig_corr_nozero</code> returns a barplot where for each of the five sample sizes
the proportion of permutations not containing zero is displayed</p></li>
<li><p><code>tbl_total</code> returns a <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> containing estimates of the Pearson
correlation between two correlated variables with associated SD, SE, 95% CI,
and width of the 95% CI (lower, upper) for all sample sizes, including the
permutation number.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data_gambling</span> <span class="op">&lt;-</span> <span class="va">gambling</span></span></span>
<span class="r-in"><span><span class="fu">estim_corr</span><span class="op">(</span><span class="va">data_gambling</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lnacc_self_winvsloss"</span>, <span class="st">"age"</span><span class="op">)</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">221</span>,</span></span>
<span class="r-in"><span>  <span class="fl">10</span>, <span class="st">"Gambling NAcc correlation with age"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $tbl_select</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 55 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    N     correlation  lower  upper permutation nozero</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 20         0.054<span style="text-decoration: underline;">3</span> -<span style="color: #BB0000;">0.398</span> 0.485  1               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 60        -<span style="color: #BB0000;">0.200</span>  -<span style="color: #BB0000;">0.432</span> 0.056<span style="text-decoration: underline;">6</span> 1               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 100        0.053<span style="text-decoration: underline;">6</span> -<span style="color: #BB0000;">0.144</span> 0.247  1               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 140        0.023<span style="text-decoration: underline;">0</span> -<span style="color: #BB0000;">0.143</span> 0.188  1               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 221       -<span style="color: #BB0000;">0.040</span><span style="color: #BB0000; text-decoration: underline;">5</span> -<span style="color: #BB0000;">0.172</span> 0.092<span style="text-decoration: underline;">0</span> 1               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 20         0.264  -<span style="color: #BB0000;">0.202</span> 0.632  2               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 60        -<span style="color: #BB0000;">0.132</span>  -<span style="color: #BB0000;">0.373</span> 0.126  2               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 100       -<span style="color: #BB0000;">0.156</span>  -<span style="color: #BB0000;">0.342</span> 0.041<span style="text-decoration: underline;">9</span> 2               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 140       -<span style="color: #BB0000;">0.055</span><span style="color: #BB0000; text-decoration: underline;">9</span> -<span style="color: #BB0000;">0.220</span> 0.111  2               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 221       -<span style="color: #BB0000;">0.040</span><span style="color: #BB0000; text-decoration: underline;">5</span> -<span style="color: #BB0000;">0.172</span> 0.092<span style="text-decoration: underline;">0</span> 2               <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 45 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fig_corr</span>
<span class="r-plt img"><img src="estim_corr-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fig_corr_nozero</span>
<span class="r-plt img"><img src="estim_corr-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $tbl_total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,020 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        N correlation  lower   upper permutation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>    20      0.054<span style="text-decoration: underline;">3</span> -<span style="color: #BB0000;">0.398</span> 0.485             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>    21     -<span style="color: #BB0000;">0.166</span>  -<span style="color: #BB0000;">0.558</span> 0.286             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>    22     -<span style="color: #BB0000;">0.147</span>  -<span style="color: #BB0000;">0.536</span> 0.292             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>    23     -<span style="color: #BB0000;">0.173</span>  -<span style="color: #BB0000;">0.546</span> 0.257             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>    24     -<span style="color: #BB0000;">0.147</span>  -<span style="color: #BB0000;">0.519</span> 0.273             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>    25      0.013<span style="text-decoration: underline;">9</span> -<span style="color: #BB0000;">0.383</span> 0.407             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>    26     -<span style="color: #BB0000;">0.024</span><span style="color: #BB0000; text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.408</span> 0.366             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>    27     -<span style="color: #BB0000;">0.374</span>  -<span style="color: #BB0000;">0.660</span> 0.007<span style="text-decoration: underline;">52</span>           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>    28     -<span style="color: #BB0000;">0.031</span><span style="color: #BB0000; text-decoration: underline;">7</span> -<span style="color: #BB0000;">0.400</span> 0.345             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    29     -<span style="color: #BB0000;">0.068</span><span style="color: #BB0000; text-decoration: underline;">3</span> -<span style="color: #BB0000;">0.424</span> 0.306             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2,010 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eduard Klapwijk, Herbert Hoijtink, Joran Jongerling.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

